<!DOCTYPE html> <html lang="en"> <head> <meta name="google-site-verification" content=""/><meta name="msvalidate.01" content=""/> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> blog | Tyler Barna</title> <meta name="author" content="Tyler Barna"/> <meta name="description" content=""/> <meta name="keywords" content="astrophysics, astronomy, academics, academia, graduate, physics, computers, multi-messenger, observation, computation, academic-website, portfolio-website, barna, tylerbarna, tyler, tyler barna, minnesota, mma, dsmma, rutgers,"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/icons/snIcon.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://tylerbarna.github.io/blog/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> <title>blog | blank</title> <meta name="generator" content="Jekyll v4.3.3"/> <meta property="og:title" content="blog"/> <meta property="og:locale" content="en"/> <link rel="canonical" href="https://tylerbarna.github.io/blog/"/> <meta property="og:url" content="https://tylerbarna.github.io/blog/"/> <meta property="og:site_name" content="blank"/> <meta property="og:type" content="website"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="blog"/> <script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"blog","url":"https://tylerbarna.github.io/blog/"}</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Tyler&nbsp;</span>Barna</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <div class="header-bar"> <h1>Tyler Barna</h1> <h2></h2> </div> <ul class="post-list"> <li> <h3> <a class="post-title" href="https://tylerbarna.blogspot.com/2019/03/kepler-k2-science-conference-v-poster.html" target="_blank">Kepler & K2 Science Conference V Poster</a> <svg width="2rem" height="2rem" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </h3> <p>This past week, I was at the Kepler and K2 Science Conference, held in Glendale California. This conference allowed me to interact with a myriad of amazingly intelligent people doing amazing research in many different areas of astronomy and cosmology, and I can capitalize on this with further research. While I have quite a bit I'd like to say about my time at the conference, I'd like to use this post to share the poster I presented at the conference, which focused on searching for exoplanets in dense clusters.<br/> <a name='more'></a><br/> <iframe height="600" src="https://drive.google.com/file/d/11aCU857LRRDtqPaExEAEJxFmQwKRn72r/preview" width="720"></iframe><br/> <br/> (Note: Google Drive seems to automatically compress PDF files in their preview application; for those interested in seeing the poster in full quality, one can download it by opening the file in another window and looking in the upper right hand corner)</p> <p class="post-meta"> 1 min read &nbsp; &middot; &nbsp; March 12, 2019 &nbsp; &middot; &nbsp; blogger </p> <p class="post-tags"> <a href="/blog/2019"> <i class="fas fa-calendar fa-sm"></i> 2019 </a> </p> </li> <li> <h3> <a class="post-title" href="https://tylerbarna.blogspot.com/2018/08/basic-sedov-simulation-gif.html" target="_blank">A Basic Sedov Simulation Animation</a> <svg width="2rem" height="2rem" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </h3> <p>Using FLASH, I was able to run a two dimensional simulation of the Sedov Explosion. By setting the program to record data at about 300 points throughout the explosion, I was able to generate and save a yt slice plot of each checkpoint and then compile these in Adobe Premiere to make a gif of the explosion. The result should be displayed below<br/> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhMVOJiQ5svB79JFuwo1uL8cvl4iw9ZzdHJEgl-WT9QWl2iR0TDcZv2bMrltZw-OnRJsrEpJb0UEzvKkxV2z_VzukY2iwlOi5WgJd_L9qJ-M54h_H33HpVGAl17FVr3vFc8QhVFaTjsT_Tt/s1600/sedovCentered.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="920" data-original-width="1085" height="542" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhMVOJiQ5svB79JFuwo1uL8cvl4iw9ZzdHJEgl-WT9QWl2iR0TDcZv2bMrltZw-OnRJsrEpJb0UEzvKkxV2z_VzukY2iwlOi5WgJd_L9qJ-M54h_H33HpVGAl17FVr3vFc8QhVFaTjsT_Tt/s640/sedovCentered.gif" width="640"/></a></div> &nbsp;One particularly interesting part of this visualization is the ability to see how FLASH is able to automatically increase the resolution on the area of interest, the explosion, to simulate it more accurately as needed without using excess computing power in areas were there isn't anything relevant. This adaptive mesh grid refinement FLASH uses is an extremely powerful tool for research and is necessary for the research in astrophysics that I assist in.</p> <p class="post-meta"> 1 min read &nbsp; &middot; &nbsp; August 28, 2018 &nbsp; &middot; &nbsp; blogger </p> <p class="post-tags"> <a href="/blog/2018"> <i class="fas fa-calendar fa-sm"></i> 2018 </a> </p> </li> <li> <h3> <a class="post-title" href="https://tylerbarna.blogspot.com/2018/08/creating-flash-no-not-that-one-site.html" target="_blank">Creating a FLASH Site-Specific Makefile for the Dark Cluster</a> <svg width="2rem" height="2rem" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </h3> <p><h2> The Making of a Makefile</h2> I recently identified a potential way to improve our process for running new simulations on FLASH on the Dark Cluster. While it isn't a high priority, I felt it would be a good exercise to familiarize myself with navigating using the terminal and customizing FLASH. I found it enlightening to document the issues I had and my eventual solution, hopefully for the benefit of others if this issue is encountered<br/> <h3> Standard Procedure</h3> <div> When running a new simulation on the Dark Cluster using the latest version of FLASH, version 4.5, the process is fairly straightforward, but it most certainly could be optimized. After signing in, tools for compiling are loaded using the command <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">m</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">odule load intel/15.0.1 &amp;&amp; module load intelmpi/5.0.2.044 </span><span style="font-family: inherit;">. To save time on login, I have this command in my </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bash.rc </span><span style="font-family: inherit;">file in my root directory, which runs on login.&nbsp;</span>Once in the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash </span>directory, one moves to <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/object </span><span style="font-family: inherit;">and uses the command </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">make clean </span><span style="font-family: inherit;">to ensure that any files and links from the prior simulation are cleared. Moving back into </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash&nbsp;</span><span style="font-family: inherit;">, one initializes the desired simulation using the command </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">./setup [Simulation] -[Flags].&nbsp;</span><span style="font-family: inherit;">Some common flags used are </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">-3d </span><span style="font-family: inherit;">and </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">-auto</span><span style="font-family: inherit;">, which set the simulation to be run in 3 dimensions and automatically select the correct Makefile respectively. As an aside, the simulation being run is located in the directory </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/source/Simulation/SimulationMain </span><span style="font-family: inherit;">with all of the necessary data to run the simulation located within a folder with the name of the simulation. I will likely explore the creation of a new complex simulation in a future blog post.&nbsp;</span><br/> <span style="font-family: inherit;"><br/> </span></div> <div> <span style="font-family: inherit;">This point is where I saw the potential for improving the efficiency of our process. Currently, we change into the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">object </span><span style="font-family: inherit;">directory, delete the automatically generated </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Makefile.h</span><span style="font-family: inherit;">&nbsp;and replace it with a preconfigured file that links all the correct dependencies and their directories. This is obviously not the most efficient means of accomplishing this, and there is potential for contributing to FLASH by adding the Dark Cluster to the list of sites with a preconfigured Makefile. I will elaborate on this further, but, for now, I will finish describing the process.&nbsp;</span><br/> <span style="font-family: inherit;"><br/> </span></div> <div> <span style="font-family: inherit;">After adding the correct </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Makefile.h</span><span style="font-family: inherit;">,&nbsp; one runs m</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">ake</span><span style="font-family: inherit;">&nbsp;in the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/object </span><span style="font-family: inherit;">directory, which compiles the simulation. However, I find it is much quicker to run this with the flag </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">-j [threads]</span><span style="font-family: inherit;">, with </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">[threads] </span><span style="font-family: inherit;">being the number of threads the compilation is run on. I found 8 threads was more than sufficient to compile the simulation in a minute or so.&nbsp;</span><br/> <span style="font-family: inherit;"><br/> </span></div> <div> <span style="font-family: inherit;">At this point, there should be a file called </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash.par</span><span style="font-family: inherit;">&nbsp;located in </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/object</span><span style="font-family: inherit;">. This is copied outside of the flash folder into a new folder. It's useful to title this the name of the simulation. After this, the bash file with the parameters for how the simulation should be run on the cluster (I call this </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">jobScript.sh </span><span style="font-family: inherit;">but the name isn't particularly important) is copied into the same folder. Changing directories to this folder, running the command </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">sbatch jobScript.sh </span><span style="font-family: inherit;">will start the simulation, and the files of the results should be placed in this folder once the simulation is done.&nbsp;</span></div> <h4> A Note on Other Systems</h4> <div> <span style="font-family: inherit;">Most of this procedure is the same on any Unix-based system, with some minor deviations. While the last paragraph is partially specific to the process used when working on the Dark Cluster, the basic process is likely similar on other systems, albeit with different syntax and a different way to initiate the simulation. The published documentation for a given system is usually enough to figure out how to run the simulation.</span></div> <h3> A Potential Improvement</h3> When initializing FLASH, particularly when using the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">-auto</span><span style="font-family: inherit;">&nbsp;flag, FLASH finds the hostname of the computer and compares it against a list of systems that have preconfigured&nbsp;</span>&nbsp;Makefiles contained within the FLASH package. This list can be found in the directory <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/sites. </span><span style="font-family: inherit;">Also located here is the file </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Aliases ,&nbsp;</span><span style="font-family: inherit;">which contains a list of sites that report themselves with a hostname other than the one that can be used to connect to the site. For example, entering the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">hostname </span><span style="font-family: inherit;">command while on the first Dark Cluster server returns the name </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fend01.cluster </span><span style="font-family: inherit;">while the host name used to connect to the cluster is </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fend01.hpc.ku.dk</span><br/> <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br/> </span> <span style="font-family: inherit;">As of this writing, the Dark Cluster is not included in this list of sites. Because of this, when FLASH attempts to initialize the setup script, it attempts to identify and use the Makefile it believes is most suitable for the system it is running on. When running the command </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">./setup Sedov -3d -auto&nbsp;</span><span style="font-family: inherit;">, or any </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">./setup</span><span style="font-family: inherit;">&nbsp;file for that matter, FLASH uses the Makefile located in the directory </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/sites/fen.bluegenebnl.gov </span><span style="font-family: inherit;">which does not specify the correct directories for FLASH dependencies.&nbsp;</span><br/> <span style="font-family: inherit;"><br/> </span> <span style="font-family: inherit;">When attempting to continue the process of compiling a simulation using this Makefile, compilation in the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/object </span><span style="font-family: inherit;">directory with the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">make </span><span style="font-family: inherit;">command fails because FLASH is unable to access the necessary MPI compilers that allow it to compile Fortran 95 code, which FLASH is largely written in. This is problematic because there is no clear indication that the Makefile is listing incorrect directories (in fact, FLASH actually prints </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">SUCCESS </span><span style="font-family: inherit;">upon initializing even if the Makefile is incorrect).&nbsp;</span><br/> <span style="font-family: inherit;"><br/> </span> Adding a new set of folders to the&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/sites </span><span style="font-family: inherit;">directory for the Dark Cluster would be beneficial to reduce the potential points of failure in the process of compiling a simulation, but my attempts to do so have proved challenging.</span><br/> <div> <h3> Attempts at Execution</h3> </div> <div> First off, there appears to be some disparity between the hostname reported when using the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">hostname </span><span style="font-family: inherit;">command and the hostname used to connect to the Dark Cluster. The command returns </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fend01.cluster </span><span style="font-family: inherit;">while the actual hostname used to connect is </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fend01.hpc.ku.dk</span><span style="font-family: inherit;">&nbsp;. This is actually addressed by FLASH, which stores the file </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Aliases&nbsp;</span><span style="font-family: inherit;">in the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/sites </span><span style="font-family: inherit;">directory. This file is used to make the hostname reported by the system an alias of the actual hostname. This allows FLASH to initialize using the correct preconfigured Makefile even if the hostname reported isn't the actual hostname. However, the Dark Cluster is not present in this file, and, as stated before, it is not one of the sites with a preconfigured Makefile.</span><br/> <span style="font-family: inherit;"><br/> </span></div> <div> <span style="font-family: inherit;">When attempting to add a preconfigured Makefile, I ran into a few interesting issues that I hope can be enlightening. After adding a directory to </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">flash/sites </span><span style="font-family: inherit;">with the name </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fend01.hpc.ku.dk</span><span style="font-family: inherit;">&nbsp;, I then added&nbsp;the Makefile provided by&nbsp;<a href="https://github.com/aldobatta/Dark_cluster" target="_blank">Aldo Batta</a>&nbsp;in his extremely helpful guide on using FLASH on the Dark Cluster. Upon running </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">./setup Sedov -auto</span><span style="font-family: inherit;">&nbsp;, FLASH defaulted to the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen.bluegenebnl.gov </span><span style="font-family: inherit;">Makefile. Changing the directory name of the Dark Cluster Makefile to </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fend01.cluster</span><span style="font-family: inherit;">&nbsp;yielded the same result, and adding the reported and correct hostnames to the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Aliases&nbsp;</span><span style="font-family: inherit;">file ended in the same outcome. Out of curiosity, I removed the line in </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Aliases&nbsp;</span><span style="font-family: inherit;">that references </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen.bluegenebnl.gov</span><span style="font-family: inherit;">&nbsp;in an attempt to force FLASH to use the inserted Makefile. Upon doing this, FLASH used the inserted Dark Cluster Makefile and a basic Sedov simulation was able to run and I was able to verify that the data was useable in yt, the Python library we use for most analysis of hdf5 files.&nbsp;</span><br/> <table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody> <tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEib4E6pdCDuv0HAb7WEP41p38hhQP6UB2Vt58Dwl6BHXidecv2HDs2LUiC-G5tZWyHXvp3ZYmuQM6W3G2SlE8YQ0IKVXwI4DuK6Sthf2Vb5o4p8xuPZj5dJ5czaIleBPqK0wRRudUuWWQG8/s1600/sedov.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="920" data-original-width="1085" height="271" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEib4E6pdCDuv0HAb7WEP41p38hhQP6UB2Vt58Dwl6BHXidecv2HDs2LUiC-G5tZWyHXvp3ZYmuQM6W3G2SlE8YQ0IKVXwI4DuK6Sthf2Vb5o4p8xuPZj5dJ5czaIleBPqK0wRRudUuWWQG8/s320/sedov.png" width="320"/></a></td></tr> <tr><td class="tr-caption" style="text-align: center;">A basic slice plot of the temperature of the Sedov explosion towards the end of the simulation</td></tr> </tbody></table> <span style="font-family: inherit;"><br/> </span> <span style="font-family: inherit;"><span id="goog_132814370"></span><span id="goog_132814371"></span>I found it odd that FLASH was using the correct Makefile when the alias for </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen.bluegenebnl.gov </span><span style="font-family: inherit;"><span style="font-family: inherit;">was removed. It was at this point that I noticed two things- I had placed my aliases for the Dark Cluster at the bottom of the list, and the alias for </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen.bluegenebnl.gov</span><span style="font-family: inherit;">&nbsp;was </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen&nbsp;</span><span style="font-family: inherit;">. Upon restoring the alias for </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen.bluegenebnl.gov</span><span style="font-family: inherit;">&nbsp;and moving the aliases I had set for the Dark Cluster above this alias, FLASH began to consistently use my inserted Makefile with the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">-auto </span><span style="font-family: inherit;">flag.&nbsp;</span></span><br/> <h3> Conclusions</h3> </div> <div> From what I can gather, FLASH searches the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">Aliases</span><span style="font-family: inherit;">&nbsp;file for the first alias that contains part of the reported hostname. Because the alias for&nbsp;&nbsp;</span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen.bluegenebnl.gov </span><span style="font-family: inherit;">was </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen</span><span style="font-family: inherit;">, when FLASH searched for a match to </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fend01.cluster&nbsp;</span><span style="font-family: inherit;">, it interpreted </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">fen </span><span style="font-family: inherit;">to be the correct alias because it is the first three letters of the reported hostname. upon moving the correct alias above this one, FLASH was able to match the reported alias correctly. While this may not be an issue that breaks the program, it certainly can be a minor inconvenience. Though I am currently not familiar enough with Fortran and the inner workings of the FLASH program to fix the underlying issue myself, this workaround is functional for my uses and likely will be for others.</span><br/> <span style="font-family: inherit;"><br/> </span></div> <div> <span style="font-family: inherit;">&nbsp;While this write up was certainly longer than it had to be to document this, I found it useful to commit to words the actual procedure of compiling the simulation and the process I went through while solving this issue. Admittedly, this post went into quite a bit of detail on these subjects, but hopefully it can be useful for others using FLASH and to look back on should trouble arise in the future.</span></div> </p> <p class="post-meta"> 1 min read &nbsp; &middot; &nbsp; August 8, 2018 &nbsp; &middot; &nbsp; blogger </p> <p class="post-tags"> <a href="/blog/2018"> <i class="fas fa-calendar fa-sm"></i> 2018 </a> </p> </li> <li> <h3> <a class="post-title" href="https://tylerbarna.blogspot.com/2018/08/a-3-dimensional-view-of-star-cluster.html" target="_blank">A 3-Dimensional View of a Star Cluster Volume Render </a> <svg width="2rem" height="2rem" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"> <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </h3> <p>While I haven't yet progressed to the point of simulating my own globular clusters in FLASH (hopefully soon), I was fortunate enough to be supplied with a hdf5 checkpoint of a complex simulation so I could practice volume rendering in yt. This was supplied by&nbsp;<a href="https://www.msoaresfurtado.com/" target="_blank">Melinda Soares-Furtado</a>, whose website can be found by clicking on her name. After getting the hang of volume rendering fairly quickly thanks to the fairly straightforward syntax of Python and the yt library, I decided to try my hand at creating a visualization that imparted a sense of depth. While yt has an experimental interactive volume renderer included at the time of this writing (more information about this can be found&nbsp;<a href="http://yt-project.org/doc/visualizing/interactive_data_visualization.html" target="_blank">here</a>), I wanted to try my hand at creating a gif, which doesn't need to be rendered in real time whenever I wanted to show it.<br/> <br/> With some help from Melinda. who introduced me to some useful python commands that allowed me to name the files in an orderly manner, I was able to create a fairly pleasing visualization. I created the frames by using a for loop that created a volume render of the density data in the file, saved the image, and then rotated the camera around the center of the cluster by one degree. I had this repeat until each degree was rendered. From there, I compiled them into a sequence in Adobe Premiere and rendered a gif.<br/> <br/> Unfortunately, the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">sigma_clip</span><span style="font-family: inherit;">&nbsp;parameter, which increases the gamma value of the function to make the visualization easier to see, for the yt function </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">show()</span><span style="font-family: inherit;">&nbsp;seems to only apply to the image shown in the jupyter notebook file and not the file that is downloaded with the </span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">save()</span><span style="font-family: inherit;">&nbsp;function. The original gif is shown below</span><br/> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEges9v6AlHk_D34eocqHCWcSdNMJWe-uTf0n0ufyoNRKvoKZ6Wc0vTi1L_OXYvLS0lqLB1us6KZwNwmHkIlOeg-tNlayYm8KSc1h69gBS5h5dQZUt7l6y0852yi3ja4jQuG6b1DgkJCN1fZ/s1600/rotation_0358.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="512" data-original-width="512" height="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEges9v6AlHk_D34eocqHCWcSdNMJWe-uTf0n0ufyoNRKvoKZ6Wc0vTi1L_OXYvLS0lqLB1us6KZwNwmHkIlOeg-tNlayYm8KSc1h69gBS5h5dQZUt7l6y0852yi3ja4jQuG6b1DgkJCN1fZ/s400/rotation_0358.gif" width="400"/></a></div> With this visualization, it's fairly difficult to make out the cluster at all, and it isn't particularly useful. Thankfully, I was able to import it back into Adobe Premiere and make increase the saturation and gamma, along with some other color correction, to make the visualization much more intriguing<br/> <div class="separator" style="clear: both; text-align: center;"> <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiMqsCkO43tE1_KttROuWDlHuVPWGDGEQl2Ut_OlkR8b3et9E3lL3-YDu8HiaJp27qmb4I_EaWzmPpcJF_QoRBmW4UzxU0mptyitLhy8N0klcASjSzN5IUh74LIfDQDVZm4kc8BOq5PIfI5/s1600/rotation_0358_1.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="512" data-original-width="512" height="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiMqsCkO43tE1_KttROuWDlHuVPWGDGEQl2Ut_OlkR8b3et9E3lL3-YDu8HiaJp27qmb4I_EaWzmPpcJF_QoRBmW4UzxU0mptyitLhy8N0klcASjSzN5IUh74LIfDQDVZm4kc8BOq5PIfI5/s400/rotation_0358_1.gif" width="400"/></a></div> In the future, I hope to create a similar visualization that shows a simulation actually running as the camera rotates around the scene rather than capturing an instant in time. I think this would be very interesting, and it would undoubtedly be a way to increase my proficiency in using yt for data visualization and analysis. I also plan on investigating the issue of the more saturated render not being downloaded by yt, as it really wouldn't be practical to manually save each render preview instead of using the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">save() </span><span style="font-family: inherit;">function.</span></p> <p class="post-meta"> 1 min read &nbsp; &middot; &nbsp; July 12, 2018 &nbsp; &middot; &nbsp; blogger </p> <p class="post-tags"> <a href="/blog/2018"> <i class="fas fa-calendar fa-sm"></i> 2018 </a> </p> </li> </ul> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> &copy; Copyright 2024 Tyler Barna. Powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id="></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","");</script> <script async src="https://cdn.panelbear.com/analytics.js?site="></script> <script>window.panelbear=window.panelbear||function(){(window.panelbear.q=window.panelbear.q||[]).push(arguments)},panelbear("config",{site:""});</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>